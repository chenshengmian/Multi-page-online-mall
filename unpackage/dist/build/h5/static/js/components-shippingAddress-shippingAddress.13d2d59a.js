(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["components-shippingAddress-shippingAddress"],{"1ec2":function(e,t,i){"use strict";var a=i("acfa"),s=i.n(a);s.a},2764:function(e,t,i){"use strict";i.r(t);var a=i("3418"),s=i("a950");for(var l in s)["default"].indexOf(l)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(l);i("1ec2");var r=i("f0c5"),n=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"4fd76745",null,!1,a["a"],void 0);t["default"]=n.exports},3418:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{"font-size":"32rpx",color:"#79666B"}},[i("b",[e._v("收货地址")])])]),i("el-skeleton",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{rows:10,animated:!0}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[i("el-empty",{directives:[{name:"show",rawName:"v-show",value:e.addressStatus,expression:"addressStatus"}],attrs:{"image-size":200,description:"暂无收货地址"}}),i("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,modal:!1,width:e.width},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.dialogFormVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},[i("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-position":e.labelPosition,rules:e.rules}},[i("el-form-item",{attrs:{label:"联系电话",prop:"mobile","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),i("el-form-item",{attrs:{label:"联系信息",prop:"realname","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.realname,callback:function(t){e.$set(e.ruleForm,"realname",t)},expression:"ruleForm.realname"}})],1),i("el-form-item",{attrs:{label:"是否默认地址",prop:"defaults","label-width":e.formLabelWidth}},[i("el-switch",{model:{value:e.ruleForm.defaults,callback:function(t){e.$set(e.ruleForm,"defaults",t)},expression:"ruleForm.defaults"}})],1),i("el-form-item",{attrs:{label:"联系地址",prop:"address","label-width":e.formLabelWidth}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._l(e.addressList,(function(t){return[i("el-descriptions",{staticStyle:{"margin-top":"20rpx"},attrs:{title:t.realname,direction:"vertical",column:4,border:!0}},[i("template",{slot:"extra"},[i("el-button",{attrs:{size:"small"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.handleRevise(t.id)}}},[e._v("修改")])],1),i("el-descriptions-item",{attrs:{label:"联系信息",labelStyle:e.labelStyle}},[e._v(e._s(t.realname))]),i("el-descriptions-item",{attrs:{label:"联系电话",labelStyle:e.labelStyle}},[e._v(e._s(t.mobile))]),i("el-descriptions-item",{attrs:{label:"是否默认地址",labelStyle:e.labelStyle}},[1==t.isdefault?i("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("是")]):i("el-tag",{attrs:{size:"small",type:"info"}},[e._v("否")])],1),i("el-descriptions-item",{attrs:{label:"联系地址",labelStyle:e.labelStyle}},[e._v(e._s(t.address))])],2)]})),i("div",{directives:[{name:"show",rawName:"v-show",value:e.paginations,expression:"paginations"}],staticClass:"pagination sumbit",staticStyle:{"margin-top":"20rpx",display:"flex","justify-content":"center"}},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next",total:e.counttotal},on:{"size-change":function(t){arguments[0]=t=e.$handleEvent(t),e.handleSizeChange.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.handleCurrentChange.apply(void 0,arguments)}}})],1),i("div",{staticStyle:{"margin-top":"30rpx",display:"flex","justify-content":"center"}},[i("el-button",{attrs:{size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleAdd.apply(void 0,arguments)}}},[e._v("添加地址")])],1)],2)],1)],1)},s=[]},a950:function(e,t,i){"use strict";i.r(t);var a=i("e161"),s=i.n(a);for(var l in a)["default"].indexOf(l)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(l);t["default"]=s.a},acfa:function(e,t,i){var a=i("e3b1");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("3c3915ff",a,!0,{sourceMap:!1,shadowMode:!1})},e161:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("4de4"),i("d3b7"),i("a9e3");var a={data:function(){return{loading:!0,dialogTableVisible:!1,dialogFormVisible:!1,addressList:[],labelStyle:{width:"200px"},paginations:!1,counttotal:0,currentPage:1,pageSize:uni.getStorageSync("pageSize"),ruleForm:{mobile:"",realname:"",isdefault:0,defaults:!1,address:"",id:""},addressStatus:!0,title:"",rules:{mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"}],realname:[{required:!0,message:"请输入联系信息",trigger:"blur"}],address:[{required:!0,message:"请输入联系地址",trigger:"blur"}]},formLabelWidth:"120px",width:"40%",labelPosition:"right"}},mounted:function(){this.getAdresslist(),this.getScreenWidth(),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleSizeChange:function(e){uni.setStorageSync("pageSize",e),this.pageSize=e,this.getAdresslist()},handleCurrentChange:function(e){this.currentPage=e,this.getAdresslist()},handleClose:function(){this.ruleForm={}},submitForm:function(e){var t=this;t.$refs[e].validate((function(e){if(!e)return!1;t.ruleForm.defaults?t.ruleForm.isdefault=1:t.ruleForm.isdefault=0,t.$axios.post("/plugin/index.php?i=1&f=guide&m=many_shop&d=mobile&r=uniapp.member.address.post",t.ruleForm).then((function(e){console.log(e);var i=e.status;if(1==i){t.getAdresslist(),t.dialogFormVisible=!1;var a=""==t.ruleForm.id?"地址添加成功!":"地址修改成功!";t.$message({message:a,type:"success"})}else{t.dialogFormVisible=!1;var s=""==t.ruleForm.id?"地址添加失败!":"地址修改失败!";t.$message.error(s)}})).catch((function(e){console.log(e)}))}))},handleAdd:function(){this.dialogFormVisible=!0,this.title="添加收货地址"},handleRevise:function(e){this.title="修改收货地址",this.ruleForm.id=e,this.dialogFormVisible=!0;var t=this.addressList.filter((function(t){return t.id==e}));this.ruleForm=t[0]},getAdresslist:function(){var e=this;e.$axios.get("/plugin/index.php?i=1&f=guide&m=many_shop&d=mobile&r=uniapp.member.address&page="+e.currentPage+"&pagesize="+e.pageSize).then((function(t){console.log(t);var i=t.status,a=t.result,s=a.list,l=a.totalpage,r=a.total;e.addressList=s,1==i&&(e.loading=!1),Number(r)>0&&(e.addressStatus=!1),l>1&&(e.paginations=!0,e.counttotal=Number(r))})).catch((function(e){console.log(e)}))},getScreenWidth:function(){this.screenWidth=window.innerWidth,this.screenWidth<=990?(this.width="90%",this.labelPosition="top"):(this.width="40%",this.labelPosition="right")},handleResize:function(){var e=window.innerWidth;e!==this.screenWidth&&(this.screenWidth=e,console.log(e),e<=990?(this.width="90%",this.labelPosition="top"):(this.width="40%",this.labelPosition="right"))}}};t.default=a},e3b1:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".el-card[data-v-4fd76745]{font-size:%?26?%}[data-v-4fd76745] .is-bordered{width:100%!important}",""]),e.exports=t}}]);